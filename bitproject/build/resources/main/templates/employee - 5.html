<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Employee Management : Bit Project 2024 </title>
    <link rel="icon" href="resources/image/1.jpg">


    <!-- link bs5 css file -->
    <!-- <link rel="stylesheet" href="resources/bootstrap-5.2.3/css/bootstrap.min.css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">


    <!-- link bs5 js file -->
    <!-- <script src="resources/bootstrap-5.2.3/js/bootstrap.bundle.min.js"> </script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>


    <!-- lik fontawesome css file -->
    <!-- <link rel="stylesheet" href="resources/fontawesome-free-6.4.2/css/all.css"> -->
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">


    <!-- link jquery js file -->
    <script src="resources/script/jquery-3.7.1.js"></script>

    <!-- datatable css file -->
    <!-- <link rel="stylesheet" href="resources/datatables-1.13.6/css/jquery.dataTables.min.css"> -->

    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.7/css/dataTables.dataTables.min.css">

    <!-- datatable js file -->
    <!-- <script src="resources/datatables-1.13.6/js/jquery.dataTables.min.js"></script> -->
    <script src="https://cdn.datatables.net/2.0.7/js/dataTables.min.js"></script>

    <!-- link employee css file -->
    <link rel="stylesheet" href="resources/style/employee.css">

    <!-- link common css file -->
    <link rel="stylesheet" href="resources/style/common.css">

</head>

<body>

    <div class="container-fluid mt-2">

        <!-- title area start -->
        <div class="row m-2">
            <div class="col-12 text-center 
            title-header-div">
                <h2> Employee Management </h2>
            </div>
        </div>
        <!-- title area End -->

        <!-- Card area start  -->
        <div class="row mt-2">
            <div class="col-1"></div>
            <div class="col-6">

            </div>
            <div class="col-4 text-end">
                <button type="button" data-bs-toggle="modal" data-bs-target="#employeeAddModal" class="btn btn-primary">
                    Add New Employee </button>
            </div>
            <div class="col-1"></div>
        </div>
        <!-- Card area end  -->

        <!-- table Area Start-->
        <div class="row mt-2">
            <div class="col-1"></div>
            <div class="col-10">
                <div class="card employee-card">
                    <div class="card-body employee-cardbody">

                        <table class="table table-hover" id="tableEmployee">
                            <thead class="table-header">
                                <tr>
                                    <th> # </th><!-- No ,# , Index -->
                                    <th> Full Name </th>
                                    <th> NIC </th>
                                    <th> Mobile </th>
                                    <th> Has Account </th>
                                    <th> Email </th>
                                    <th> Designation </th>
                                    <th> Status </th>
                                    <!-- <th id="tdModify"> Modify </th> -->
                                </tr>
                            </thead>

                            <tbody class="table-body">
                                <tr>
                                    <td> 1 </td>
                                    <td> Haritha Paramodha </td>
                                    <td> 92303313523V </td>
                                    <td> 0763704119 </td>
                                    <td> Haritha@gmail.com </td>
                                    <td>
                                        <p>Working</p>
                                    </td>

                                    <td>
                                        <button type="button" class="btn"> Edit </button>
                                        <button type="button" class="btn btn-danger ms-1 me-1"> Delete </button>
                                        <button type="button" class="btn btn-outline-info"> View </button>
                                    </td>
                                </tr>

                                <tr>
                                    <td> 2 </td>
                                    <td> Nuwan Bandara </td>
                                    <td> 95263313523V </td>
                                    <td> 0715804119 </td>
                                    <td> nuwan@gmail.com </td>
                                    <td>
                                        <p>Resign</p>
                                    </td>

                                    <td>
                                        <button type="button" class="btn">
                                            <i class="fa-solid fa-edit"></i>
                                        </button>
                                        <button type="button" class="btn ms-1 me-1">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                        <button type="button" class="btn ">
                                            <i class="fa-solid fa-print"></i>
                                        </button>
                                    </td>
                                </tr>

                                <tr>
                                    <td> 3 </td>
                                    <td> Isuru Virajitha </td>
                                    <td> 93663313523V </td>
                                    <td> 0785804119 </td>
                                    <td> isuru@gmail.com </td>
                                    <td>
                                        <p>Working</p>
                                    </td>

                                    <td>
                                        <button type="button" class="btn">
                                            <i class="fa-solid fa-edit"></i> Edit </button>
                                        <button type="button" class="btn btn-danger ms-1 me-1">
                                            <i class="fa-solid fa-trash"></i> Delete </button>
                                        <button type="button" class="btn btn-outline-info">
                                            <i class="fa-solid fa-print"></i> View </button>
                                    </td>
                                </tr>

                                <tr>
                                    <td> 4 </td>
                                    <td> Sashini Sithara </td>
                                    <td> 97563313523V </td>
                                    <td> 0762804119 </td>
                                    <td> sashini@gmail.com </td>
                                    <td>
                                        <p>Working</p>
                                    </td>

                                    <td>
                                        <div class="dropdown">
                                            <button type="button" data-bs-toggle="dropdown" aria-expanded="false"
                                                class="btn btn-primary dropdown-toggle">
                                                Modify </button>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href=""> Edit </a></li>
                                                <li><a class="dropdown-item" href=""> Delete </a></li>
                                                <li><a class="dropdown-item" href=""> View </a></li>
                                            </ul>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
            <div class="col-1"></div>

        </div>
        <!-- table Area End-->

    </div>

    <!-- employee Add Modal -->
    <div class="modal" id="employeeAddModal" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h2> Edit Employee </h2>
                    <button type="button" class="btn-close" onclick="buttonModalClose()"></button>
                </div>
                <div class="modal-body">
                    <form id="formEmployee" onsubmit="return false">
                        <!-- required mark start-->
                        <div class="row">
                            <div class="col-12 text-end fw-bold">
                                <span class="text-danger"> * </span> Required
                            </div>
                        </div>
                        <!-- required mark end-->

                        <!-- full name Start-->
                        <div class="row mt-2">
                            <label for="textFullName" class="col-3 col-form-label fw-bold">
                                Full Name : <span class="text-danger"> * </span>
                            </label>
                            <div class="col-9">
                                <input type="text" name="fullname" id="textFullName" class="form-control text-input"
                                    required data-bs-toggle="tooltip" data-bs-placement="bottom"
                                    data-bs-title="Ex - Haritha Pramodha Jayaweera" placeholder="Enter Full name"
                                    onkeyup="textFullNameValidator(this);">
                            </div>
                        </div>
                        <!-- full name end-->

                        <!-- Calling name / nic / gender / dob start-->
                        <div class="row mt-2">
                            <div class="col-3">
                                <label for="textCallingName" class="form-label fw-bold">
                                    Calling Name : <span class="text-danger"> * </span>
                                </label>
                                <input type="text" placeholder="Enter Calling Name" class="form-control"
                                    onkeyup="textCallingNameValidator(this)" id="textCallingName"
                                    list="dlFullNameParts">
                                <datalist id="dlFullNameParts">
                                    <option value="Abc">
                                    <option value="Sde">
                                    <option value="Dsde">
                                    <option value="Gajava">
                                </datalist>
                            </div>

                            <div class="col-3">
                                <label for="textNIC" class="form-label fw-bold">
                                    Nic : <span class="text-danger"> * </span>
                                </label>
                                <input type="text" class="form-control" placeholder="Enter NIC"
                                    onkeyup="textValidator(this,'^(([0-9]{9}[VvXx])|([0-9]{12}))$' ,'employee','nic')"
                                    id="textNIC" data-bs-toggle="tooltip" data-bs-placement="bottom"
                                    data-bs-title="Ex- 000000000V / 200012345685">
                            </div>

                            <div class="col-3">
                                <div class="row mb-1">
                                    <label for="radioMale" class="form-label fw-bold">
                                        Gender : <span class="text-danger"> * </span>
                                    </label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="radio" class="form-check-input" value="Male" id="radioMale" required
                                        name="gender" onchange="radioValidator(this,'','employee','gender')">
                                    <label for="radioMale" class="form-check-lable fw-bold">Male</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input type="radio" class="form-check-input" value="Female" id="radioFemale"
                                        required name="gender" onchange="radioValidator(this,'','employee','gender')">
                                    <label for="radioFemale" class="form-check-lable fw-bold">Female</label>
                                </div>

                            </div>

                            <div class="col-3">
                                <label for="dateDateOfBirth" class="form-label fw-bold">
                                    Date of Birth : <span class="text-danger"> * </span>
                                </label>
                                <input type="date" class="form-control" id="dateDateOfBirth"
                                    onchange="textValidator(this,'^[0-9]{4}[-][0-9]{2}[-][0-9]{2}$','employee','dob')">
                            </div>
                        </div>
                        <!-- Calling name / nic / gender / dob End-->

                        <!-- Email / mobile / land start -->
                        <div class="row mt-2">
                            <div class="col-4">
                                <label for="textEmail" class="form-label fw-bold">
                                    Email : <span class="text-danger">*</span>
                                </label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-at"></i>
                                    </span>
                                    <input type="email" id="textEmail" placeholder="Enter Email" class="form-control"
                                        onkeyup="textValidator(this,'^[A-Za-z0-9\\_\\-]{8,20}[@][a-z]{3,10}[.][a-z]{2,3}$' , 'employee','email')"
                                        required>
                                </div>
                            </div>
                            <div class="col-4">
                                <label for="textMobileNo" class="form-label fw-bold">
                                    Mobile No : <span class="text-danger">*</span>
                                </label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-mobile-screen-button"></i>
                                    </span>
                                    <input type="text" id="textMobileNo" required class="form-control"
                                        onkeyup="textValidator(this,'^[0][7][01245678][0-9]{7}$', 'employee', 'mobile')"
                                        placeholder="Enter Mobile no">
                                </div>

                            </div>
                            <div class="col-4">
                                <label for="textLandNo" class="form-label fw-bold">
                                    Land No : <span class="text-danger"> (optional)</span>
                                </label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-phone-volume"></i>
                                    </span>
                                    <input type="text" id="textLandNo" placeholder="Enter Land No" class="form-control">
                                </div>
                            </div>
                        </div>
                        <!-- Email / mobile / land end -->

                        <!-- Address / Note Start-->
                        <div class="row mt-2">
                            <div class="col-6">
                                <div class="form-floating">
                                    <textarea id="textAddress" class="form-control" placeholder="Enter Address"
                                        onkeyup="textValidator(this, '^([0-9\\/\\-\\sA-Za-z]{1,20}[\\,][\\s])+([A-Z][a-z0-9\\-]{1,20}[.])$','employee','address')"
                                        required></textarea>
                                    <label for="textAddress" class="form-label fw-bold">
                                        Address : <span class="text-danger">*</span>
                                    </label>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-floating">
                                    <textarea id="textNote" class="form-control" placeholder="Enter Note"></textarea>
                                    <label for="textNote" class="form-label fw-bold">
                                        Note : <span class="text-danger">(optional)</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <!-- Address / Note End-->

                        <!-- Status / Designation / Civilstatus start-->
                        <div class="row mt-2">
                            <div class="col-4">
                                <label for="selectCivilStatus" class="form-label fw-bold">
                                    Civilstatus : <span class="text-danger">*</span>
                                </label>
                                <select id="selectCivilStatus" class="form-select" required
                                    onchange="selectStaticValidator(this,'','employee','civilstatus')">
                                    <option value="" selected disabled>Select CivilStatus</option>
                                    <option value="Single">Single</option>
                                    <option value="Married">Married</option>
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="selectDesignation" class="form-label fw-bold">
                                    Designation : <span class="text-danger">*</span>
                                </label>
                                <select required class="form-select" id="selectDesignation"
                                    onchange="selectDynamicValidator(this,'','employee','designation_id')">
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="selectStatus" class="form-label fw-bold">
                                    Staus : <span class="text-danger">*</span>
                                </label>
                                <select class="form-select" id="selectStatus" required
                                    onchange="selectDynamicValidator(this,'','employee','employeestatus_id')">

                                </select>
                            </div>
                        </div>
                        <!-- Status / Designation / Civilstatus End-->

                        <!-- buttons start-->
                        <div class="row mt-2">
                            <div class="col-4 text-start">
                                <div id="divModifyButton">

                                    <button type="button" style="width: 25%;"
                                        onclick="deleteEmployee(window['editOb'], window['editRow'])"
                                        class="btn btn-danger fw-bold ms-2 me-2"> Delete </button>
                                    <button type="button" style="width: 25%;" class="btn btn-info fw-bold"> Print
                                    </button>
                                </div>

                            </div>
                            <div class="col-8 text-end">
                                <button type="reset" class="btn fw-bold 
                                btn-clear all-button">
                                    <i class="fa-solid fa-recycle"></i>
                                    Clear
                                </button>
                                <button type="submit" class="btn fw-bold 
                            me-2 ms-2 btn-update all-button" onclick="buttonEmployeeUpdate()">
                                    <i class="fa-solid fa-edit"></i>
                                    Update
                                </button>
                                <button type="submit" class="btn fw-bold 
                            btn-add all-button" onclick="buttonEmployeeSubmit()">
                                    <i class="fa-solid fa-plus"></i>
                                    Add
                                </button>
                            </div>
                        </div>
                        <!-- buttons end-->

                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- link table common function js file -->
    <script src="resources/script/tableCommonFunction.js"></script>

    <!-- link common js file -->
    <script src="resources/script/commonFunction.js"></script>

    <!-- link validation fucntion js -->
    <script src="resources/script/validationFunction.js"></script>

    <!-- link employee js file -->
    <script src="contollerjs/employee-5.js"></script>


</body>

</html>